#
# LANG
#
export LANG=en_US.UTF-8

#
# clear path once if tmux
#
if [ ${TMUX} ]; then
	PATH=""
fi

#
# read default path
#
if [ -x /usr/libexec/path_helper ]; then
	eval `/usr/libexec/path_helper -s`
fi

#
# for homebrew
#
if [ -f /usr/local/bin/brew ]; then
	PATH=/usr/local/bin:/usr/local/sbin:$PATH
fi

#
# coreutils
#
if [ -d /usr/local/opt/coreutils/libexec/gnubin ]; then
	PATH=/usr/local/opt/coreutils/libexec/gnubin:$PATH
	MANPATH=/usr/local/opt/coreutils/libexec/gnuman:$MANPATH
	alias ls='ls --color=auto'
fi

#
# bash completion (need brew install bash-completion
#
if [ -f $(brew --prefix)/etc/bash_completion ]; then
  . $(brew --prefix)/etc/bash_completion
fi

#
# Set $GOROOT
# https://gist.github.com/ivanzoid/3477252
#
program_exists () {
	type "$1" &> /dev/null ;
}

if program_exists go; then
	function setupGOROOT()
	{
		local GOPATH=`which go`
		local GODIR=`dirname $GOPATH`
		local GOPATH_BREW_RELATIVE=`readlink $GOPATH`
		local GOPATH_BREW=`dirname $GOPATH_BREW_RELATIVE`
		export GOROOT=`cd $GODIR; cd $GOPATH_BREW/..; pwd`
	}
	setupGOROOT
fi

GOPATH=$HOME/go
PATH=$PATH:$GOPATH/bin

export GOPATH
export PATH
export MANPATH

